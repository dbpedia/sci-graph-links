Abstract Predatorâ€“prey interactions are strongly influenced by habitat structure, particularly in coastal marine habitats such as seagrasses in which structural complexity (SC) may vary over small spatial scales. For seagrass mesopredators such as juvenile fishes, optimality models predict that fitness will be maximized at levels of SC that enhance foraging but minimize predation risk, both of which are functions of body size. We tested the hypothesis that in eelgrass (Zostera marina) habitat, optimal SC for juvenile giant kelpfish (Heterostichus rostratus), an abundant eelgrass mesopredator in southern California, changes through ontogeny. To do this, we quantified eelgrass SC effects on habitat associations, relative predation risk, and foraging efficiency for three size classes of juvenile giant kelpfish. We found that habitat selection differed with fish size: small fish selected dense eelgrass, whereas larger fish selected sparse eelgrass. Small kelpfish experienced the lowest relative predation risk in dense eelgrass but also had higher foraging efficiency in dense eelgrass, suggesting that dense eelgrass is selected by these fish because it minimizes risk and maximizes potential for growth. Surprisingly, larger kelpfish did not experience lower predation risk than small kelpfish. However, larger kelpfish experienced higher foraging efficiency in sparse eelgrass vs. dense eelgrass, suggesting that they select sparse eelgrass to maximize foraging efficiency. Our study highlights that trade-offs between predation risk and foraging can occur within a single habitat type, that studies should consider how habitat value changes through ontogeny, and that seagrass habitat value may be maximal when within-patch variability in SC is high.