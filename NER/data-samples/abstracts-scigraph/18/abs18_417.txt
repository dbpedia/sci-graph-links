Abstract Rastall’s theory is a modification of General Relativity, based on the non-conservation of the stress-energy tensor. The latter is encoded in a parameter γ such that γ=1 restores the usual ∇ ν T μν =0 law. We test Rastall’s theory in cosmology, on a flat Robertson–Walker metric, investigating a two-fluid model and using the type Ia supernovae Constitution dataset. One of the fluids is pressure-less and obeys the usual conservation law, whereas the other is described by an equation of state p x =w x ρ x , with w x constant. The Bayesian analysis of the Constitution set does not strictly constrain the parameter γ and prefers values of w x close to −1. We then address the evolution of small perturbations and show that they are dramatically unstable if w x ≠−1 and γ≠1, i.e. General Relativity is the favored configuration. The only alternative is w x =−1, for which the dynamics becomes independent from γ.