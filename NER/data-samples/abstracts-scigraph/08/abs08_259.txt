Abstract With the rapid development of the mobile computing, accessing the Internet everywhere is important for mobile device users. Wireless LAN is a stable and reliable technique to provide network access for mobile devices. The Wireless LAN Access Points(APs) have been densely deployed so that a user can access the Internet almost everywhere. However, this fact brings some new challenges. Since the regular AP association strategy is signal-based when a user receive the signals of multiple APs. The APs with strong signal will be too overloaded while the bandwidth resource in other APs is wasted. The throughput of the whole WLAN is not optimized. Moreover, the diverse bandwidth demands among users further exacerbate the situation. In this paper, aiming at optimizing the throughput over the whole WLAN, a joint AP association and bandwidth allocation problem is formulated. The different usersâ€™ bandwidth demands are added as new constraints. We comprehensively analyze the solution space and prove the problem NP-hard. Our trace-driven evaluations show that the throughput is improved about 23.1 % compared to the conventional schemes.