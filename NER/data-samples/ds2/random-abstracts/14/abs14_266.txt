Abstract Data envelopment analysis (DEA) is an approach for measuring the relative efficiency of peer decision making units that have multiple inputs and outputs. In most practical applications of DEA presented in the literature, the presented models assume that outputs are produced perfectly (see Charnes et al. Eur J Oper Res 2:429–444, 1978). However, in many real situations, some outputs are imperfect and they need to be repaired. This paper develops a DEA approach for measuring the efficiency of decision processes which can be divided into two interdependent stages, arranged in series. The novelty of the proposed approach is the existence of perfect and imperfect outputs in a two-stage decision process. This application of two-stage process involves shared resources and the paper gives a best split of these shared resources between two stages. The case of Iranian car representatives is presented.