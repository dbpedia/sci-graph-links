Abstract An agent-based financial price model is developed by percolation system on the Sierpinski carpet lattice, in an attempt to reproduce and investigate fluctuation behaviors of price changes in the financial market. The percolation theory is usually used to describe the behaviors of connected clusters in a random graph, and the Sierpinski carpet lattice is an infinitely ramified fractal. We forecast and investigate the stock prices of the financial model by an improved Legendre neural networkâ€“Legendre neural network with random time strength function (LeNNRT). To test the LeNNRT and study the fluctuation behaviors of the stock prices on different time lag, the k-day moving average of Shanghai Composite Index and the simulated price series of the proposed model are predicted by the LeNNRT model. We exhibit the predictive results and compare the forecasting accuracies with different values of k for both the real data and the simulated data.