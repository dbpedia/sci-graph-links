Abstract In this paper, simultaneous inversions for hypocentres and three-dimensional (3-D) crustral P-wave velocity structure of Ningxia and its neighborhood are performed, by using the data of direct P wave, reflected Pm and refracted Pn phases from the Moho discontinuity. The number of arrival-time applied to the inversion is 11 816 total, which are recorded by the Seismic Station Network of Ningxia from 1 107 local natural earthquakes happened since 1970. The LSQR algorithm with damping that has been developed in recent years to solve the large-scale sparse matrix is adopted. At different steps of iterative computing process, weighting is made on the actions of each earthquake at first and on each ray further, to aim at the inhomogeneous features of spatial distribution of earthquake and ray. Numerical analogue and computational results of actual multi-group data, and different iterative control processes, show that under a certain residual standard, there is obvious trade-off on the assignment of travel-time residuals between medium parameters and earthquakes parameters (especially the origin time and depth of earthquake), so the obtained solution is related to the selected initial values of medium parameters to some extent; but there are the basically same variation features on different results in the almost same area. That is the solution of surface layer has a close relation to the strata and landform. In Yinchuan basin there is obvious low velocity feature, and it coincides with the results of a man-made earthquake section crossing the region; tomographic patterns show that there are many low velocity regions in middle-lower crust, and it seems to have some connections between the positions of historical strong earthquakes and the low velocity region or the anomalous variations of velocity gradient.