Abstract One of the interesting secure applications in the smart city is broadcasting information to legitimate users, desirably with user privacy. Broadcast encryption has been considered as a useful tool to protect the data security and provide data access control. Most works in broadcast encryption are about the data security, while less attention is paid to the data access control and the identity privacy. In this paper, based on broadcast encryption, we present a scheme called Fully Privacy-Preserving and Revocable Identity-Based Broadcast Encryption, which preserves the data privacy and the identity privacy of the receiver as well as the revoked user. The data can be securely protected and only the authorized user can access the data. The revocation process does not reveal any information about the data contents and the receiver identity. The public learns nothing about the receiver identity and the revoked user identity. These properties lead to nice applications in the smart city where identity privacy is desirable. The security of our scheme is proved to be semantically secure in the random oracle model.